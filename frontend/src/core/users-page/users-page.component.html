<main class="main">
  <h1>User list</h1>
  @if (users) {
    <div class="users__table">
      <p-table
        [value]="users"
        showGridlines
        [tableStyle]="{ width: '100%' }"
        scrollable="true"
        scrollHeight="flex"
      >
        <ng-template #header>
          <tr>
            <th>Login</th>
            <th>Name</th>
            <th>Date of birth</th>
            <th>Age</th>
            <th>Salary</th>
            <th>Roles</th>
            <th>Edit</th>
            <th>Remove</th>
          </tr>
        </ng-template>
        <ng-template
          #body
          let-user
        >
          <tr>
            <td>{{ user.login }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.birthday }}</td>
            <td>{{ user.age }}</td>
            <td>{{ user.salary }}</td>
            <td>
              <div class="users__roles">
                @for (role of user.roles; track $index) {
                  <app-role [role]="role"></app-role>
                }
              </div>
            </td>
            <td>
              <i
                class="pi pi-pencil"
                style="font-size: 1rem"
              ></i>
            </td>
            <td>
              <i
                class="pi pi-trash"
                style="font-size: 1rem"
              ></i>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  } @else {
    <p>Users list is Empty</p>
  }
</main>
