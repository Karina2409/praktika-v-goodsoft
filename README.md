# Задание 5

Используя сессию и фильтр создать механизм авторизации пользователей. 
Запретить доступ неавторизованных пользователей к любой странице приложения за исключением страницы авторизации.

1. После авторизации в программе информация о пользователе должна быть занесена в сессию, пользователь должен оказаться на главной странице приложения.
2. Неавторизованный пользователь в случае попытки доступа к внутренней части приложения должен быть направлен на страницу авторизации.
3. Предусмотреть возможность выхода пользователя из системы.
4. Предусмотреть возможность изменения пользователем своего пароля (опционально)

В качестве технологий использовать диспетчер сервлет+JSP+JSTL, 
мэппинг для диспетчер-сервлета должен быть следующего вида: *.jhtml.
Стартовая страница index.jsp должна использовать JSTL тэг <c:redirect> и отправлять пользователя на страницу авторизации. 

Приложение должно содержать следующие страницы
Путь в строке браузера	JSP страница	Комментарий
/webdipatch/	index.jsp	стартовая страница
/webdipatch/login.jhtml	WEB-INF\jsp\login.jsp	страница авторизации
/webdipatch/welcome.jhtml	WEB-INF\jsp\welcome.jsp	главная страница приложения
/webdipatch/loginedit.jhtml	WEB-INF\jsp\loginedit.jsp	страница редактирования пароля пользователя

Использовать в проекте: HttpServletResponse.sendRedirect() и HttpServletRequest.getRequestDispatcher().forward().
Для разбора строки запроса на стороне сервера использовать HttpServletRequest.getContextPath() и HttpServletRequest.getServletPath().
В качестве подсказки можно воспользоваться следующим примером кода:
//...
String action = req.getParameter(ACTION_PARAM);
if (LOGIN_ACTION_PERFORM.equals(action)) {
if (securityService.login(userInfo)) {
req.getSession().setAttribute(CommonConstant.USER_INFO_KEY, userInfo);
resp.sendRedirect(req.getContextPath() + WELCOM_PAGE + ".jhtml");
} else {
req.setAttribute("errorMessage", "Error login or password");
req.getRequestDispatcher(JSP_PATH + LOGIN_PAGE + ".jsp").forward(
req, resp);
}
} else {
req.getRequestDispatcher(JSP_PATH + LOGIN_PAGE + ".jsp").forward(
req, resp);
}
//...


# Задание 6

1) сделать верстку
2) страница со списком пользователей с кнопками добавить редактировать удалить
3) страницы соответственно добавления/редактирования
4) сделать две роли - админ и пользователь
5) админам доступен весь функционал
6) пользователям видна только главная страница с приветственным сообщением, 
7) и пункт меню для списка пользователей не должен отображаться даже
8) Модель пользователей расширить :
- login
- password
- email
- surname
- name
- patronymic
- birthday
- роль
9) сделать валидацию для полей(формат обязатаельность)
10) Изучить Expression Language (EL) (то что пишется в ${}). 

основные примеры можно посмотерть по адресу http://localhost:8080/examples/jsp/ (томкат запустить не из эклипса а через startup.bat) - первый пример.
![img.png](img.png)

# Задание 7
1. Создать тэги(файлы с расширение .tag) чтобы убрать дублирующую верстку(шапка приложения, футер меню и т д)
2. Жава код писать не надо - все делается в этих файлах .tag
3. у вас получится один или тнесколько тегов и один корневой(например myhtml)
   страница спользователями будет выглядеть примерно так:
   <t:myhtml title="Пользователи">
   верстка таблицы с пользователями
   </t:myhtml>
   при этом повторяющегося кода с футером и шапкой уже не будет, он будет располгаться в файлах .tag

# Задание 8
Привести приложение с типичный трех словной архитектуре - dao service web

# Задание 9
Сделать ваши dao и service синглтонами

# Задание 10
Создать две фабрики(паттерн factory) для создание dao и service (одна фабрика для дао, вторая для service)